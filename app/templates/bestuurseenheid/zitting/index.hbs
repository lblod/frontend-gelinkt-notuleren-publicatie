<div class="grid grid--align-center">
  <div typeof="besluit:Zitting" resource={{model.uri}} class="col--8-12 col--1-1--s">
    <h1 class="h1 u-spacer--top--small">
      Publicaties voor de zitting van
      <span resource={{model.bestuursorgaan.uri}} typeof="besluit:Bestuursorgaan" property="besluit:isGehoudenDoor">
        <span resource={{model.bestuursorgaan.isTijdsspecialisatieVan.uri}} typeof="besluit:Bestuursorgaan" property="mandaat:isTijdspecialisatieVan">
          <span property="skos:prefLabel">{{model.bestuursorgaan.isTijdsspecialisatieVan.naam}}</span>
        </span>
      </span>
      <br>
      op
      <span property="besluit:geplandeStart" content={{iso-date model.geplandeStart}} datatype="xsd:dateTime">{{moment-format model.geplandeStart 'D MMMM YYYY, HH:mm'}}</span>
    </h1>

    <ul class="steps steps--timeline">
      {{#if model.notulen}}
        <LinkTo @route="bestuurseenheid.zitting.notulen" @model={{model.id}} @tagName="li" class="step">
          <div class="step__icon">
            {{#if notulenPublicationDate}}
              {{moment-format notulenPublicationDate 'D'}}
              <span class="step__icon__sub">{{moment-format notulenPublicationDate 'MMM'}}</span>
            {{else}}
              <i class="vi vi-news"></i>
            {{/if}}
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h2 class="step__title">Notulen</h2>
                <span class="u-hidden">
                  <a href={{href-to "bestuurseenheid.zitting.notulen" model.id}} property="lblod:linkToPublication">
                    <span resource={{model.notulen.uri}} typeof="foaf:Document" property="besluit:heeftNotulen"/>
                  </a>
                </span>
              </div>
              <div class="step__header__info">
                <i class="vi vi-arrow"></i>
              </div>
            </div>
          </div>
        </LinkTo>
      {{else}}
        <li class="step step--disabled">
          <div class="step__icon">
            <i class="vi vi-clock"></i>
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h2 class="step__title">Notulen niet publiek</h2>
              </div>
            </div>
          </div>
        </li>
      {{/if}}

      {{!-- @Miet -> Currently a soon as besluitenlijst or bekendmaking is published, this option will pop up.
             Backend needs update I guess to deal with the correct condition --}}

      {{#if model.uittreksels.length}}
        <LinkTo @route="bestuurseenheid.zitting.uittreksels" @model={{model.id}} @tagName="li" class="step">
          <div class="step__icon">
            {{!-- TODO: provide correct field --}}
            {{#if besluitenlijstPublicationDate}}
              {{moment-format besluitenlijstPublicationDate 'D'}}
              <span class="step__icon__sub">{{moment-format besluitenlijstPublicationDate 'MMM'}}</span>
            {{else}}
              <i class="vi vi-news"></i>
            {{/if}}
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h3 class="step__title">Bekendmakingen en uittreksels</h3>
                <span  class="u-hidden">
                  {{#each model.uittreksels as |uittreksel index|}}
                    <a href={{href-to "bestuurseenheid.zitting.uittreksels.detail.raw" model.id}} property="lblod:linkToPublication">
                      <span resource={{uittreksel.uri}} typeof="foaf:Document" property="besluit:heeftUittreksel"/>
                    </a>
                  {{/each}}
                </span>
              </div>
              <div class="step__header__info">
                <i class="vi vi-arrow"></i>
              </div>
            </div>
          </div>
        </LinkTo>
      {{else}}
        <li class="step step--disabled">
          <div class="step__icon">
            <i class="vi vi-clock"></i>
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h3 class="step__title">Bekendmakingen en uittreksels niet publiek</h3>
              </div>
            </div>
          </div>
        </li>
      {{/if}}

      {{#if model.besluitenlijst.id}}
        <LinkTo @route="bestuurseenheid.zitting.besluitenlijst" @model={{model.id}} @tagName="li" class="step">
          <div class="step__icon">
            {{#if besluitenlijstPublicationDate}}
              {{moment-format besluitenlijstPublicationDate 'D'}}
              <span class="step__icon__sub">{{moment-format besluitenlijstPublicationDate 'MMM'}}</span>
            {{else}}
              <i class="vi vi-news"></i>
            {{/if}}
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h2 class="step__title">Besluitenlijst</h2>
                <span  class="u-hidden">
                  <a href={{href-to "bestuurseenheid.zitting.besluitenlijst" model.id}} property="lblod:linkToPublication">
                    <span resource={{model.besluitenlijst.uri}} typeof="foaf:Document" property="besluit:heeftBesluitenlijst"/>
                  </a>
                </span>
              </div>
              <div class="step__header__info">
                <i class="vi vi-arrow"></i>
              </div>
            </div>
          </div>
        </LinkTo>
      {{else}}
        <li class="step step--disabled">
          <div class="step__icon">
            <i class="vi vi-clock"></i>
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h3 class="step__title">Besluitenlijst niet publiek</h3>
              </div>
            </div>
          </div>
        </li>
      {{/if}}


      {{#if model.agenda.id}}
        <LinkTo @route="bestuurseenheid.zitting.agenda" @model={{model.id}} @tagName="li" class="step">
          <div class="step__icon">
            {{#if agendaPublicationDate}}
              {{moment-format agendaPublicationDate 'D'}}
              <span class="step__icon__sub">{{moment-format agendaPublicationDate 'MMM'}}</span>
            {{else}}
              <i class="vi vi-news"></i>
            {{/if}}
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h2 class="step__title">Agenda</h2>
                <span  class="u-hidden">
                  {{#each model.agendas as |agenda index|}}
                    <a href={{href-to "bestuurseenheid.zitting.agenda.raw" model.id}} property="lblod:linkToPublication">
                      <span resource={{agenda.uri}} typeof="foaf:Document" property="besluit:heeftAgenda"/>
                    </a>
                  {{/each}}
                </span>
              </div>
              <div class="step__header__info">
                <i class="vi vi-arrow"></i>
              </div>
            </div>
          </div>
        </LinkTo>
      {{else}}
        <li class="step step--disabled">
          <div class="step__icon">
            <i class="vi vi-clock"></i>
          </div>
          <div class="step__wrapper">
            <div class="step__header">
              <div class="step__header__titles">
                <h2 class="step__title">Agenda niet publiek</h2>
              </div>
            </div>
          </div>
        </li>
      {{/if}}
    </ul>
  </div>
</div>

{{outlet}}
